21.02.26 (2.103)
- Fixed a bug where user-defined functions did not return a string (only a numeric value).
+ Some new constants and formulas (functions) added to the consts.txt file.

20.02.26 (2.102)
+ Added numerous user-defined functions to the consts.txt file.
* User-defined functions can now be overridden. Previously, attempting to override an existing 
  user-defined function would cause nothing; the new declaration would simply be ignored, with 
  no errors generated.
+ The help file has been updated to reflect the new features.  

20.02.26 (2.101)
* Now, when calling a user-defined function, all previously defined constants (but not variables) 
  are available, including those defined in the consts.txt file in the directory with the calculator 
  executable file.
  
20.02.26 (2.1)
- Fixed bug with const("name", value) and var("name", value) functions.

19.02.26 (2.099)
- Memory leak bugs have been fixed.
- Uninitialized variables are now not allowed (previously, they had a value of 0).
- The type of function arguments is now checked; for example, you can't call sin on a string.
+ User-defined functions added (can be specified in the consts.txt file). {frq(L, C)1/(2 pi sqrt(L C))}
  Using frq(130u, 2n2), result: 297602.8699774697
$ Possible improvement: Add parameter passing by reference to func(&x). If this is detected, then the variable 
  x is also created in the main calculator, and after calling evaluate, it must be made consistent. To do this, add
  methods for accessing the list of symbols by name. 
  
17.02.26 (2.098)
* Now all intermediate string values are deleted after each expression is evaluated. Before this, the values 
  of string variables are copied for subsequent use in the new expression. These values are also deleted when 
  the calculator is closed. This is not of significant importance for the calculator project itself, but it 
  may be important if the calculator engine is used in the implementation of some scripting language.
  
16.02.26 (2.097)
- Fixed a bug related to too long lines that caused a crash.

16.02.26 (2.096)
- Fixed excessive memory allocation for the sum of string values. 
- Fixed copying of the string result if it is longer than the buffer holding it. The excess is now truncated.

16.02.26 (2.095)
* String handling has been completely redesigned. Now, when strings are created, a list is created, and memory is 
  freed from this list at the end. Strings remain in memory even after they are no longer needed. This improves 
  reliability and freeing, and ensures that a string isn't destroyed before use. This also prevents excessive memory 
  fragmentation.

14.02.26 (2.094)
* Cosmetic changes in sources.

14.02.26 (2.093)
- Fixed a bug with ; operator for string operands.
- Fixed bug with 'prn' and 'winf' functions.
- Fixed string return functionality.
- Now 'L:=130u;C:=2.2n;f:=1/(2PI sqrt(L C));Rw:=sqrt(L/C);prn("f:%SHz, Rw:%SOhm",f,Rw);;resonant frequency' works properly.
  Returns 'f:297.6kHz, Rw:243.1Ohm' as string result.

12.02.26 (2.092)
- Fixed a bug with recognizing 'i' or 'j' at the beginning of a name during implicit multiplication.
- Now 'ik:=3;2ik' result 6, not 0+i6 as before.

10.02.26 (2.09)
* Internal changes (comments translated to English), obsolete code removed.
* KB -> KiB changed in the Computing output format
* Duplicate result code formatting function has been removed. Now, everything is handled by one function 
  (instead of two), and when making corrections or additions, you only need to change one function, 
  not two as before. The output itself has become more compact.
* A BCB6 compilation option has been added to the calculator engine.  

08.02.26 (2.086)  
+ Added postfixes of order Q, R, q, r to engineering (scientific) formatb help file supplemented.
+ KiB added to the Computing input format (KB also possible)
* Transition to a simpler implementation of the output function.

07.02.26 (2.085)  
- The Force float option has been fixed, and the Auto option has been removed (it didn't do anything anyway).
+ 'cmplx', 'cpx' added as synonym for 'cplx' (cpx(1, 2)) function.
* SCF option removed CPX option added.
* The number reading code has been rewritten to be more understandable.

05.02.26 (2.082)  
+ Added display of complex numbers in polar coordinates |modulus|(`degrees 'minutes 'seconds)
+ Only relevant output formats are left for complex results.

26.01.26 (2.080)    
+ 'frh' (frh(75)) function converting Fahrenheit to Celsius added.
 
22.01.26 (2.077)    
+ Added the 75F format for temperature in Fahrenheit. 
+ Temperature format has been added for output and input in Fahrenheit.

04.01.26 (2.076)    
- Load user constants errors handling has been fixed.

02.01.26 (2.075)    
+ 'const' and 'var' (const("name", value), var("name", value)) functions added.
+ ;; operator for comments (;; Comment) added.
+ Load user constants from consts.txt functionality added.

31.12.25 (2.073)
+ A lot of constants for unit conversion added. The Help section now includes descriptions of them.
+ Added gon and turns to the Degrees (angular) output format.
+ Date time input format :w (weeks) added.

30.12.25 (2.072)
* Optimization of the output formatting function.
+ Now, for engineering and normalized formats of complex numbers, the modulus order is checked, and the 
  real and imaginary parts are normalized based on it.

29.12.25 (2.069)
+ Added 1+i2 format for complex numbers in addition to 1+2i
- Added stack clearing before a new calculation to eliminate the influence of the previous one.
 
23.12.25 (2.067)
- Fixed a bug with an extra dot in a number.

22.12.25 (2.066)
* The source text has been reformatted.

17.12.25 (2.063)
* Rainbow colors wavelength constants added
- Fixed a bug in working with strings.

16.12.25 (2.061)

15.12.25 (2.060)
+ 'wrgb', 'trgb', 'winf' functions added.

14.12.25 (2.056)
- All predefined variables are now constants (trying to redefine them will result in an error).

12.12.25 (2.054)
+ Physical constants (CODATA 2018) added.

11.12.25 (2.051)
+ Added new output function for CLI version.
- Fixed a bug (memory leak) in working with strings.
- Fixed a bug with non-Latin characters.
- Fixed a bug with Implicit multiplication.
- Fixed a bug under Wine fonts drawing.

27.11.25 (2.045)
+ 'ceil', 'floor' functions added.
+ Saved last expression to history now.

26.11.25 (2.044)
+ Implicit multiplication added.

23.11.25 (2.043)
* Changing the History Window to a ComboBox based.

09.10.25 (2.038)
+ Start of automatic version control.

06.10.25 (2.037)
+ 'pol' function added.
- Many bugs have been fixed.

02.10.25 (2.02)
+ Start of version numbering.

01.10.25 
+ Added complex numbers support.

# Legend.
	# Comment on this file.
	+ Feature additions
	- Bug fixes
	* Changes
	! Bug found and not yet fixed
	$ Not yet implemented feature


This calculator project on WinAPI (VS2022) is based on my old project on Cbuilder 
VSL (BCB6) https://github.com/dimorlus/fcalc, which, in turn, is based on DOS programs 
and Ccalc sources (http://www.garret.ru/ccalc.zip) that have been heavily reworked since then.
//-< CCALC.H >-------------------------------------------------------*--------*
// Ccalc                      Version 1.01       (c) 1998  GARRET    *     ?  *
// (C expression command line calculator)                            *   /\|  *
//                                                                   *  /  \  *
//                          Created:     20-Oct-98    K.A. Knizhnik  * / [] \ *
//                          Last update: 20-Oct-98    K.A. Knizhnik  * GARRET *
//-------------------------------------------------------------------*--------*
